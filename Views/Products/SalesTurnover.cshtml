@model List<Product>

<h2>Sales Turnover</h2>
@{
    long total = 0;
}
@if (Model != null && Model.Count > 0)
{
    int productTotal = 0;
    <table class="table">
        <thead>
            <tr>
                <th>Product Name</th>
                <th>Amount Sold</th>
                <th>The amount of product sales</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var product in Model)
        {
                productTotal = 0;
                <tr>
                <td>@product.Name</td>
                <td>@product.Amount</td>
                <td>@{
                        productTotal += product.Amount * product.Price;
                        total += productTotal;
                    }
                    @productTotal
                </td>
            </tr>
        }
        </tbody>
    </table>
    <h5>Sales amount: @total</h5>
}
else
{

    if (TempData.ContainsKey("WarningMessage"))
    {
        <div class="alert alert-warning">
            @TempData["WarningMessage"]
        </div>
    }
        
}
<a asp-action="ProductsPanel" class="btn btn-outline-primary">Return</a>